{% extends "base.html" %}

{% block content %}
<section class="page-header">
    <div class="page-title">
        <h1>Your Topics</h1>
        <p>Create a topic first, then add questions with links inside it.</p>
    </div>
    <div class="hero-actions">
        <a href="{{ url_for('routes.add_topic') }}" class="btn">➕ Add Topic</a>
    </div>
</section>

{% if topics %}
    <section class="topic-grid">
        {% for topic in topics %}
            <div class="card topic-card">
                <h3>{{ topic.name }}</h3>
                <p>Store links, mistakes, and takeaways for each question.</p>
                <div class="topic-meta">
                    <span>{{ topic.question_count }} question{{ 's' if topic.question_count != 1 else '' }}</span>
                    <div class="topic-actions">
                        <a href="{{ url_for('routes.questions', topic_id=topic.id) }}" class="btn secondary small">View →</a>
                        <form method="post" action="{{ url_for('routes.delete_topic', topic_id=topic.id) }}" onsubmit="return confirm('Delete this topic and all its questions? This cannot be undone.');">
                            <button type="submit" class="btn danger icon-btn" aria-label="Delete topic">−</button>
                        </form>
                    </div>
                </div>
            </div>
        {% endfor %}
    </section>
{% else %}
    <div class="empty-state">
        <div class="badge">No topics yet</div>
        <h2>Start your first topic</h2>
        <p>Keep questions organized by subject: Arrays, Graphs, System Design, or anything you like.</p>
        <div class="hero-actions" style="justify-content: center;">
            <a href="{{ url_for('routes.add_topic') }}" class="btn">Create your first topic</a>
        </div>
    </div>
{% endif %}

{% endblock %}